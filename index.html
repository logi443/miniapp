<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>M-VPN راهنمای اتصال</title>
<style>
@import url('https://cdn.jsdelivr.net/gh/rastikerdar/iransans-font@v1.0.5/dist/font-face.css');

body {
  font-family: 'IranSans', sans-serif;
  background-color: #fff;
  color: #333;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  min-height: 100vh;
}

h1 {
  margin-top: 40px;
  font-size: 24px;
  text-align: center;
  opacity: 0;
  animation: fadeInWords 3s ease-in-out forwards;
  background: -webkit-linear-gradient(#ff6b35, #d93a3a);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

@keyframes fadeInWords {
  0% { opacity: 0; transform: translateY(10px); }
  100% { opacity: 1; transform: translateY(0); }
}

.container {
  margin-top: 40px;
  background: linear-gradient(135deg, #ff6b35, #d93a3a);
  padding: 20px;
  border-radius: 12px;
  width: 90%;
  max-width: 420px;
  color: #fff;
  box-shadow: 0 0 10px rgba(0,0,0,0.2);
}

button {
  font-family: 'IranSans';
  width: 100%;
  padding: 12px;
  margin: 8px 0;
  border: none;
  border-radius: 8px;
  background: #fff;
  color: #d93a3a;
  font-size: 16px;
  cursor: pointer;
  transition: 0.3s;
}
button:hover {
  background: #f5f5f5;
}

.step-img {
  width: 100%;
  border-radius: 8px;
  margin: 10px 0;
  box-shadow: 0 0 8px rgba(0,0,0,0.2);
}

footer {
  margin-top: auto;
  font-size: 14px;
  text-align: center;
  padding: 20px 0;
}
footer a {
  color: #d93a3a;
  font-weight: bold;
  text-decoration: underline;
}
</style>
</head>
<body>

<h1 id="title">راهنمای اتصال سرویس‌های M-VPN</h1>

<div class="container" id="app">
  <div id="step1">
    <p>سیستم عامل خود را انتخاب کنید:</p>
    <button onclick="selectOS('Android')">Android</button>
    <button onclick="selectOS('iOS')">iOS</button>
    <button onclick="selectOS('Windows')">Windows</button>
    <button onclick="selectOS('macOS')">macOS</button>
  </div>

  <div id="step2" style="display:none;">
    <p>برنامه مورد نظر را انتخاب کنید:</p>
    <div id="apps"></div>
    <button onclick="goBack(1)">بازگشت</button>
  </div>

  <div id="step3" style="display:none;">
    <div id="tutorial"></div>
    <button onclick="goBack(2)">بازگشت</button>
  </div>
</div>

<footer>
  طراحی شده توسط تیم <a href="https://t.me/nv444" target="_blank">M-VPN</a>
</footer>

<script>
const appsByOS = {
  Android: ["v2rayNg", "v2box"],
  iOS: ["v2box", "Shadowrocket", "Streisand"],
  Windows: ["V2rayN"],
  macOS: ["Streisand"]
};

const tutorials = {
  Android: {
    v2rayNg: `
      <p>۱- منوی همبرگری ☰ بالا را بزنید.</p>
      <!-- image1 -->
      <p>۲- از منوی همبرگری گزینه Setting را انتخاب کنید.</p>
      <!-- image2 -->
      <p>۳- گزینه تنظیمات پیشرفته را بزنید و گزینه Allow insecure را فعال کنید.</p>
      <!-- image3 -->
      <p>۴- به صفحه اصلی برگردید، مثبت بالا را بزنید و گزینه وارد کردن از کلیپ بورد را انتخاب کنید.</p>
      <!-- image4 -->
    `,
    v2box: `
      <p>۱- ستینگ برنامه را باز کنید.</p>
      <!-- image1 -->
      <p>۲- گزینه Allow insecure را روشن کنید.</p>
      <!-- image2 -->
      <p>۳- از بخش Configs مثبت بالا را بزنید و گزینه Import V2Ray URI from Clipboard را انتخاب کنید.</p>
      <!-- image3 -->
      <p>۴- روی اسم کانفیگ بزنید و از پایین صفحه Slide to connect را به سمت راست بکشید.</p>
      <!-- image4 -->
    `
  },
  iOS: {
    v2box: `
      <p>۱- ستینگ برنامه را باز کنید.</p>
      <!-- image1 -->
      <p>۲- گزینه Allow insecure را روشن کنید.</p>
      <!-- image2 -->
      <p>۳- از بخش Configs مثبت بالا را بزنید و گزینه Import V2Ray URI from Clipboard را انتخاب کنید.</p>
      <!-- image3 -->
      <p>۴- روی اسم کانفیگ بزنید و از پایین صفحه Slide to connect را به سمت راست بکشید.</p>
      <!-- image4 -->
    `,
    Shadowrocket: `
      <p>۱- روی منو Config بزنید و + بالا را بزنید، کانفیگ خود را Paste کرده و Download را بزنید.</p>
      <!-- image1 -->
      <p>۲- به منوی Home برگردید، روی اسم کانفیگ لمس کنید و دکمه اتصال را بزنید.</p>
      <!-- image2 -->
      <p>۳- اگر وصل نشد، روی علامت تعجب بزنید، گزینه TLS را انتخاب و Allow insecure را روشن کنید.</p>
      <!-- image3 -->
      <p>سپس یک مرحله به عقب برگردید، Save را بزنید و متصل شوید.</p>
      <!-- image4 -->
    `,
    Streisand: `
      <p>۱- ستینگ برنامه را باز کنید.</p>
      <!-- image1 -->
      <p>۲- از بالا گزینه سوم Subscription را انتخاب کنید.</p>
      <!-- image2 -->
      <p>۳- گزینه‌های Update on open و Allow insecure را روشن کنید.</p>
      <!-- image3 -->
      <p>۴- از تب Home مثبت بالا را بزنید و گزینه Import from clipboard را انتخاب کنید.</p>
      <!-- image4 -->
      <p>۵- روی اسم کانفیگ لمس کنید و دکمه اتصال را بزنید.</p>
      <!-- image5 -->
    `
  },
  Windows: {
    V2rayN: `
      <p>این بخش نیاز به آموزش تصویری دارد. لطفاً ویدیوی زیر را مشاهده کنید.</p>
      <!-- video placeholder -->
      <video controls src="YOUR_VIDEO_LINK_HERE" class="step-img"></video>
    `
  },
  macOS: {
    Streisand: `
      <p>۱- ستینگ برنامه را باز کنید.</p>
      <!-- image1 -->
      <p>۲- از بالا گزینه سوم Subscription را انتخاب کنید.</p>
      <!-- image2 -->
      <p>۳- گزینه‌های Update on open و Allow insecure را روشن کنید.</p>
      <!-- image3 -->
      <p>۴- از تب Home مثبت بالا را بزنید و گزینه Import from clipboard را انتخاب کنید.</p>
      <!-- image4 -->
      <p>۵- روی اسم کانفیگ لمس کنید و دکمه اتصال را بزنید.</p>
      <!-- image5 -->
    `
  }
};

let currentOS = "";

function selectOS(os) {
  currentOS = os;
  document.getElementById('step1').style.display = 'none';
  document.getElementById('step2').style.display = 'block';
  const appsDiv = document.getElementById('apps');
  appsDiv.innerHTML = '';
  appsByOS[os].forEach(app => {
    const btn = document.createElement('button');
    btn.innerText = app;
    btn.onclick = () => selectApp(app);
    appsDiv.appendChild(btn);
  });
}

function selectApp(app) {
  document.getElementById('step2').style.display = 'none';
  document.getElementById('step3').style.display = 'block';
  document.getElementById('tutorial').innerHTML = tutorials[currentOS][app];
}

function goBack(step) {
  if (step === 1) {
    document.getElementById('step1').style.display = 'block';
    document.getElementById('step2').style.display = 'none';
  } else if (step === 2) {
    document.getElementById('step2').style.display = 'block';
    document.getElementById('step3').style.display = 'none';
  }
}
</script>

</body>
</html>
